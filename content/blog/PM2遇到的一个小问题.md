---
title: 'PM2遇到的一个小问题'
date: 2019-09-25
---

### 写在前面
这篇是大概一个半月前部署node项目时遇到的一个小问题，写下来备忘

### 问题描述
1. 部署完毕，运行报错的时候才发现服务器没有`pm2.config.js`配置的文件路径
2. ssh登陆服务器，准备手动建好文件路径，结果发现登陆账户权限不足...
3. 迫于无奈，在登陆账户权限范围内新建了文件夹路径，同时改了pm2和nginx配置文件的路径
4. 重启pm2和nginx，再运行不报错了
5. 直接访问项目, 502
6. 输入 `pm2 list`发现项目重启了500多次，最后还是挂了
7. 搜了一下，找到了解决方案： `pm2 delete xxx`, 删了项目服务再重启
8. 再次访问项目，ok了
   
### 原因
pm2的配置文件某些配置项会有缓存，即使重启也没用，最好还是删了进程再重启

Done.