{"componentChunkName":"component---src-templates-post-post-js","path":"/Blog/scroll事件踩坑记录/","result":{"data":{"markdownRemark":{"id":"0b6bd893-0d6b-514d-ad4a-160327e1f97d","excerpt":"背景 使用Vue重构一个jQuery的H5/PC页面，一个列表组件实现滚动加载更多的时候踩了个坑。 现象 没有触发滚动\n开始是把滚动事件绑定在列表组件的父级元素，然后发现无论如何都无法触发滚动事件 实现父元素滚动的布局导致了刘海屏下的一个兼容性bug\n让html和body…","html":"<h3 id=\"背景\" style=\"position:relative;\"><a href=\"#%E8%83%8C%E6%99%AF\" aria-label=\"背景 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>背景</h3>\n<p>使用Vue重构一个jQuery的H5/PC页面，一个列表组件实现滚动加载更多的时候踩了个坑。</p>\n<h3 id=\"现象\" style=\"position:relative;\"><a href=\"#%E7%8E%B0%E8%B1%A1\" aria-label=\"现象 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>现象</h3>\n<ul>\n<li>没有触发滚动\n开始是把滚动事件绑定在列表组件的父级元素，然后发现无论如何都无法触发滚动事件</li>\n<li>实现父元素滚动的布局导致了刘海屏下的一个兼容性bug\n让html和body的高度都为屏高，父元素继承body高度也撑满body，监听父元素的滚动事件。</li>\n</ul>\n<p>这个布局方式导致safe-area区域不能跟随滚动消失，始终占据了屏幕的底部位置</p>\n<h3 id=\"原因\" style=\"position:relative;\"><a href=\"#%E5%8E%9F%E5%9B%A0\" aria-label=\"原因 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>原因</h3>\n<p>先说第一个现象的原因</p>\n<h4 id=\"scroll事件冒泡原理\" style=\"position:relative;\"><a href=\"#scroll%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%8E%9F%E7%90%86\" aria-label=\"scroll事件冒泡原理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scroll事件冒泡原理</h4>\n<ul>\n<li>\n<p>一般页面元素的scroll事件和普通事件不同，没有事件冒泡过程</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 358px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/276c91e03be37bc857446b7126428ea6/39185/event-bubbling.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAByUlEQVQ4y3WTCW+CQBCF+f+/ysQ21aZU8S6KAh7gAaIi9X7dN3YpNe0km2UX9s188xbjdruBcTwecblccDqdcL1ewf3vV7J/Pp9l5juGPqdnHYYWG42GGI/HSJIEvV4PrVYLVr0O03zDcDhEHEeYTqcyZrPZv6IimKYpXNfFZrNBGAby7Hou+v0+bPtDBLbbLdbrNXa7HebzucxarDhEcLVaSZWM5XKZY/0XWZaJ+F+RIzcalsJsCi4rM00TlcoLqtUKarWaYDuOI63xPA+dTkcRJarSLaIokgT7/R6G5l8oDN/3xBR+QNFAoU4mEwRBIAfYxyS5Y3PNfg4GfbTbbUnGdS5IMw6HgzipsxWDbaDTevAcW/XYnlyQfWEWxxlgpPBozOtrVVx+fn6CZVnqFviC2+12FY0vFcVxLEX8MkUvWCGvDjPzmQ7TdQrRWVIQm++JzW8Wi4WIah3Dsuqq6e9oNpuSlQbRae1+MXhAo+sfIcv2SnT+I5imO7mHRObQQjQmUjNdL5fL4napVBJcmkTXWYBt2/m5HPmvoCBxiMqLHYahzNyj8xRkMhZTbJvxeNP1uN/Pg/w9sRJn79grJqLIp6qKyEUxxhfwAd6OYuBl6gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"event-bubbling\"\n        title=\"event-bubbling\"\n        src=\"/static/276c91e03be37bc857446b7126428ea6/39185/event-bubbling.png\"\n        srcset=\"/static/276c91e03be37bc857446b7126428ea6/5a46d/event-bubbling.png 300w,\n/static/276c91e03be37bc857446b7126428ea6/39185/event-bubbling.png 358w\"\n        sizes=\"(max-width: 358px) 100vw, 358px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>也就是在上图的4就结束了，只经过<code>事件捕获 -> 事件触发</code>，没有事件冒泡的过程，之前监听父元素的事件委托做法是行不通的。</p>\n</li>\n<li>\n<p>来自document元素的scroll事件可以冒泡</p>\n<p>由于其自身已经是顶层元素了，所以这个场景下事件冒泡与否已经失去了意义。</p>\n</li>\n<li>具体可以参考<a href=\"https://ayase.moe/2018/11/20/scroll-event/\" target=\"_blank\" rel=\"noopener\">这篇文章</a>，写的很清楚</li>\n</ul>\n<h3 id=\"如何处理scroll事件\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86scroll%E4%BA%8B%E4%BB%B6\" aria-label=\"如何处理scroll事件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何处理scroll事件</h3>\n<h4 id=\"确认监听scroll事件目标元素\" style=\"position:relative;\"><a href=\"#%E7%A1%AE%E8%AE%A4%E7%9B%91%E5%90%ACscroll%E4%BA%8B%E4%BB%B6%E7%9B%AE%E6%A0%87%E5%85%83%E7%B4%A0\" aria-label=\"确认监听scroll事件目标元素 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>确认监听scroll事件目标元素</h4>\n<p>首先要明确开发功能的目标是在那个元素监听scroll事件。</p>\n<p>比如上面提到safe-area的bug，要让safe-area跟随scroll事件收起和展开，需要监听document元素的滚动事件。</p>\n<p>但是其他情况，也许不需要在document元素上监听。比如网页内有个固定高度的table元素，要监听他的内部滚动事件，可以只监听table的scroll事件。</p>\n<p>具体监听哪个元素的scroll事件，要根据功能目标来确定。这是思考的出发点。</p>\n<h4 id=\"如何判断绑定正确或错误\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E7%BB%91%E5%AE%9A%E6%AD%A3%E7%A1%AE%E6%88%96%E9%94%99%E8%AF%AF\" aria-label=\"如何判断绑定正确或错误 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何判断绑定正确或错误</h4>\n<p>在明确监听元素之后，再来观察是否监听到了正确的元素。可以通过以下方法来判断（此处以chrome为例子）：</p>\n<ul>\n<li><code>devTool - Performance</code>，点击<code>Record</code>开始录制</li>\n<li>滚动页面</li>\n<li>结束录制</li>\n<li>点击<code>Event Log</code>，搜索框内输入scroll，在最右侧就能看到scroll事件绑定的元素</li>\n<li>确认绑定元素是否为目标元素即可</li>\n</ul>\n<p>如下图所示：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/afa8b410c6f865195f3cfdc46de69f54/ba579/performance-panel.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAc2gSD//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCKv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAAMBAAAAAAAAAAAAAAAAAAAQEVH/2gAIAQEAAT8h0pf/2gAMAwEAAgADAAAAEAPf/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExkfD/2gAIAQEAAT8QG9DA1iCJrkr1z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"performance-panel\"\n        title=\"performance-panel\"\n        src=\"/static/afa8b410c6f865195f3cfdc46de69f54/e5166/performance-panel.jpg\"\n        srcset=\"/static/afa8b410c6f865195f3cfdc46de69f54/f93b5/performance-panel.jpg 300w,\n/static/afa8b410c6f865195f3cfdc46de69f54/b4294/performance-panel.jpg 600w,\n/static/afa8b410c6f865195f3cfdc46de69f54/e5166/performance-panel.jpg 1200w,\n/static/afa8b410c6f865195f3cfdc46de69f54/ba579/performance-panel.jpg 1680w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4 id=\"绑定document的处理\" style=\"position:relative;\"><a href=\"#%E7%BB%91%E5%AE%9Adocument%E7%9A%84%E5%A4%84%E7%90%86\" aria-label=\"绑定document的处理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>绑定document的处理</h4>\n<p>需要在Vue的生命周期钩子函数中绑定和解绑scroll事件，考虑到H5页面，因此追加了passive属性</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">...</span>\n<span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleScroll<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token function\">destroyed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleScroll<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>passive<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"绑定页面元素的处理\" style=\"position:relative;\"><a href=\"#%E7%BB%91%E5%AE%9A%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E7%9A%84%E5%A4%84%E7%90%86\" aria-label=\"绑定页面元素的处理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>绑定页面元素的处理</h4>\n<p>可以在目标元素上绑定scroll事件，同时使用passive属性提高移动端滚动体验</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">@scroll.passive</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>handleScroll<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>元素对应的CSS中要增加<code>overflow-y: scroll</code>或者<code>overflow-y: auto</code>的设置</p>\n<h3 id=\"其他兼容性处理\" style=\"position:relative;\"><a href=\"#%E5%85%B6%E4%BB%96%E5%85%BC%E5%AE%B9%E6%80%A7%E5%A4%84%E7%90%86\" aria-label=\"其他兼容性处理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>其他兼容性处理</h3>\n<h4 id=\"-webkit-overflow-scrolling-touch\" style=\"position:relative;\"><a href=\"#-webkit-overflow-scrolling-touch\" aria-label=\" webkit overflow scrolling touch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>-webkit-overflow-scrolling: touch</h4>\n<p>对iOS来说，为了避免滚动卡顿，还需要在滚动的目标元素上设置<code>-webkit-overflow-scrolling: touch</code>，开启硬件加速，提升用户体验</p>\n<p>Done</p>","frontmatter":{"date":"May 25, 2020","title":"scroll事件踩坑记录","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABwkC0D//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAERACAhMUH/2gAIAQEAAT8hQT3McFf/2gAMAwEAAgADAAAAEDDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgEFAQAAAAAAAAAAAAAAAREAECExUWFx/9oACAEBAAE/EFAwDTvCXwelxjkZSr//2Q==","aspectRatio":1.5060240963855422,"src":"/static/9983387778f1c70c0ce32374522d12c6/7a34f/post-default-bg.jpg","srcSet":"/static/9983387778f1c70c0ce32374522d12c6/72227/post-default-bg.jpg 750w,\n/static/9983387778f1c70c0ce32374522d12c6/d41e0/post-default-bg.jpg 1500w,\n/static/9983387778f1c70c0ce32374522d12c6/7a34f/post-default-bg.jpg 3000w,\n/static/9983387778f1c70c0ce32374522d12c6/76224/post-default-bg.jpg 4288w","sizes":"(max-width: 3000px) 100vw, 3000px"}}}}}},"pageContext":{"slug":"/Blog/scroll事件踩坑记录/","previous":{"fields":{"slug":"/Blog/手写Array.prototype.every/"},"frontmatter":{"title":"手写Array.prototype.every"}},"next":{"fields":{"slug":"/Blog/background-image踩坑/"},"frontmatter":{"title":"background-image踩坑"}}}}}