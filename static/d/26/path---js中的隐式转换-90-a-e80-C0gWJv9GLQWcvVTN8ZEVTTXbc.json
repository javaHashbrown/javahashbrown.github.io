{"data":{"markdownRemark":{"id":"eefb610d-fa7c-541b-a3c9-6ad0877104d8","excerpt":"date: 2018-09-21 基本类型隐式转换 基本类型转换为Boolean类型 基本类型转换为String类型 基本类型转换为Number类型 对象隐式转换为基本类型 基本类型隐式转换 基本类型转换为Boolean类型 隐式转换相当于调用 Boolean(value…","html":"<ul>\n<li>\n<p><a href=\"#date-2018-09-21\">date: 2018-09-21</a></p>\n<ul>\n<li>\n<p><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2\">基本类型隐式转换</a></p>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAboolean%E7%B1%BB%E5%9E%8B\">基本类型转换为Boolean类型</a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAstring%E7%B1%BB%E5%9E%8B\">基本类型转换为String类型</a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAnumber%E7%B1%BB%E5%9E%8B\">基本类型转换为Number类型</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E5%AF%B9%E8%B1%A1%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B\">对象隐式转换为基本类型</a></p>\n<hr>\n<h4 id=\"基本类型隐式转换\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本类型隐式转换</h4>\n<h5 id=\"基本类型转换为boolean类型\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAboolean%E7%B1%BB%E5%9E%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本类型转换为Boolean类型</h5>\n</li>\n</ul>\n</li>\n</ul>\n<p>隐式转换相当于调用<code>Boolean(value)</code>方法，其底层实现为<code>ToBoolean(value)</code>方法，转换规则如下表:</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th align=\"left\">转换为true的值</th>\n<th align=\"left\">转换为false的值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Boolean</td>\n<td align=\"left\">true</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td>String</td>\n<td align=\"left\">非空字符串<br>(<code>value.length>0</code>)</td>\n<td align=\"left\">空字符串''<br>(<code>value.length===0</code>)</td>\n</tr>\n<tr>\n<td>Number</td>\n<td align=\"left\">非零值</td>\n<td align=\"left\">0 或 NaN</td>\n</tr>\n<tr>\n<td>Undefined</td>\n<td align=\"left\">\\</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td>Null</td>\n<td align=\"left\">\\</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td>Symbol</td>\n<td align=\"left\">任何值</td>\n<td align=\"left\">\\</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>注：转换为Boolean为false的值有：<code>'', false, 0, NaN, undefined, null</code>  </p>\n</blockquote>\n<p><strong>例1</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Boolean(&#39;&#39;) //空字符串，0\nBoolean(&#39; &#39;) //含有一个空格的字符串，1</code></pre></div>\n<p><br><br></p>\n<h5 id=\"基本类型转换为string类型\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAstring%E7%B1%BB%E5%9E%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本类型转换为String类型</h5>\n<p>隐式转换相当于调用<code>String(value)</code>方法，其底层实现为<code>ToString(value)</code>方法，规则如下表：</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th align=\"left\">转换为string的值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Boolean</td>\n<td align=\"left\">true=><code>'true'</code><br>false=><code>'false'</code></td>\n</tr>\n<tr>\n<td>Null</td>\n<td align=\"left\"><code>'null'</code></td>\n</tr>\n<tr>\n<td>Undefined</td>\n<td align=\"left\"><code>'undefined'</code></td>\n</tr>\n<tr>\n<td>Number</td>\n<td align=\"left\">数字的string值</td>\n</tr>\n<tr>\n<td>String</td>\n<td align=\"left\">不转换</td>\n</tr>\n<tr>\n<td>Symbol</td>\n<td align=\"left\">抛出<code>TypeError</code>异常</td>\n</tr>\n</tbody>\n</table>\n<p><strong>例2</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">String(false) //&#39;false&#39;\nString(1.32e3) //&#39;1320&#39;\nString(-Infinity) //&#39;-Infinity&#39;\nString(NaN) // &#39;NaN&#39;</code></pre></div>\n<p><br><br></p>\n<h5 id=\"基本类型转换为number类型\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAnumber%E7%B1%BB%E5%9E%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本类型转换为Number类型</h5>\n<p>隐式转换相当于调用<code>Number(value)</code>方法，底层实现为<code>ToNumber(value)</code>方法，规则如下表：</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th align=\"left\">转换为number的值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Undefined</td>\n<td align=\"left\">NaN</td>\n</tr>\n<tr>\n<td>Null</td>\n<td align=\"left\">0</td>\n</tr>\n<tr>\n<td>Boolean</td>\n<td align=\"left\">true=> 1<br>false=>0</td>\n</tr>\n<tr>\n<td>Number</td>\n<td align=\"left\">不转换</td>\n</tr>\n<tr>\n<td>String</td>\n<td align=\"left\">1.空字符串或仅有空格的字符串=>0<br>2.整数=>保留符号，忽略整数中的先导0，返回整数<br>3.浮点数=>保留符号，忽略先导0，返回浮点数<br>4.十六进制数=>返回相同大小的十进制数<br>5.二进制数=>返回相同大小的十进制数<br>6.八进制数=>返回相同大小的十进制数<br>7.科学记数法=>返回相同大小的十进制数<br>8.其他=>返回NaN<br>注：数字字符串中头尾2端的空白，转换时都将被忽略</td>\n</tr>\n<tr>\n<td>Symbol</td>\n<td align=\"left\">抛出<code>TypeError</code>异常</td>\n</tr>\n</tbody>\n</table>\n<p><strong>例3</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Number(&#39;&#39;) //0\nNumber(&#39;    &#39;) //0\nNumber(&#39; -1.33e3 &#39;) //-1330\nNumber(&#39; 0x10&#39;) //16\nNumber(&#39; 1232 4345&#39;) //NaN</code></pre></div>\n<p><br><br></p>\n<hr>\n<h4 id=\"对象隐式转换为基本类型\"><a href=\"#%E5%AF%B9%E8%B1%A1%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>对象隐式转换为基本类型</h4>\n<p>对象转换为基本类型时：</p>\n<ol>\n<li>首先调用<code>ToPrimitive ( input [, PreferredType] )</code>方法，当<code>input</code>可转换为多种基本类型时，可选参数<code>PrefreredType</code>指定优先转换类型  </li>\n<li>\n<p>随后调用<code>OrdinaryToPrimitive(input,hint)</code>方法，其中<code>hint</code>值由<code>PrefreredType</code>决定，且为以下之一：<code>[\"default\", \"string\", \"number\"]</code>:  </p>\n<ol>\n<li>如果<code>PrefreredType</code>值为<code>hint String</code>, 则 <code>hint</code>值为<code>\"string\"</code>，依次调用对象的<code>toString, valueOf</code>方法，直至返回值为基本类型</li>\n<li>如果<code>PrefreredType</code>值为<code>hint Number</code>, 则 <code>hint</code>值为<code>\"number\"</code>，依次调用对象的<code>valueOf, toString</code>方法，直至返回值为基本类型</li>\n<li>如果<code>PrefreredType</code>未指定, 则 <code>hint</code>值为<code>\"default\"</code>，按2步骤执行</li>\n<li>\n<p>如果上述执行完毕后，返回值仍不是基本类型，抛出<code>TypeError</code>异常 </p>\n<blockquote>\n<p>注：<br>\n1.<code>Date</code>对象在转换时，其<code>PrefreredType</code>为<code>hint String</code><br>\n2.以上对象默认转换规则，如果对象重写了默认的<code>toString</code> 和/或 <code>valueOf</code>方法，致使无法返回基本类型，那么将抛出<code>TypeError</code>异常</p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ol>\n<p><strong>例4</strong>  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">let a = {};\na+1 //&#39;[object Object]1&#39;\na.toString() //&#39;[object Object]&#39;\n\nfunction Test(){\n    this.valueOf = function(){return 112233}\n}\na = new Test();\na+1 //112234\nString(a) //&#39;[object Object]&#39;\n\nfunction Test2(){\n  this.toString = function(){return []};\n}\na= new Test2();\na+1 //TypeError: Cannot convert object to primitive value </code></pre></div>\n<ul>\n<li>上例中，先将a声明为空对象，<code>a+1</code>进行计算时，a按照规则2.3进行转换，先根据原型链调用<code>Object.valueOf()</code>方法，返回对象自身，然后继续调用<code>Object.toString()</code>方法返回值<code>'[object Object]'</code>，最后将a和数字1进行字符串拼接，得到结果；  </li>\n<li>之后将a声明为<code>Test</code>类的实例对象，<code>Test</code>中重写了<code>valueOf()</code>方法，再次进行<code>a+1</code>计算时，按照规则2.3进行转换，此时<code>valueOf()</code>方法返回值为基本类型，不再继续调用<code>toString()</code>方法，于是结果变为<code>112234</code>；而调用<code>String(a)</code>将对象优先转换为<code>string</code>类型，仍然调用的是<code>Object.toString()</code>方法，结果与之前相同</li>\n<li>再次声明<code>Test2</code>类，确保其2个方法都没有返回基本类型，再次计算实例<code>a+1</code>时，抛出了<code>TypeError</code>错误</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<ul>\n<li><a href=\"/eefb610d-fa7c-541b-a3c9-6ad0877104d8/#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAstring%E7%B1%BB%E5%9E%8B\">基本类型转换为String类型</a></li>\n<li><a href=\"/eefb610d-fa7c-541b-a3c9-6ad0877104d8/#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAnumber%E7%B1%BB%E5%9E%8B\">基本类型转换为Number类型</a></li>\n</ul>\n</li>\n<li><a href=\"/eefb610d-fa7c-541b-a3c9-6ad0877104d8/#%E5%AF%B9%E8%B1%A1%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B\">对象隐式转换为基本类型</a></li>\n</ul>","frontmatter":{"date":"September 21, 2018","title":"JS中的隐式转换","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABwkC0D//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAERACAhMUH/2gAIAQEAAT8hQT3McFf/2gAMAwEAAgADAAAAEDDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgEFAQAAAAAAAAAAAAAAAREAECExUWFx/9oACAEBAAE/EFAwDTvCXwelxjkZSr//2Q==","aspectRatio":1.5056179775280898,"src":"/static/9983387778f1c70c0ce32374522d12c6/d7b72/post-default-bg.jpg","srcSet":"/static/9983387778f1c70c0ce32374522d12c6/2347c/post-default-bg.jpg 750w,\n/static/9983387778f1c70c0ce32374522d12c6/5a448/post-default-bg.jpg 1500w,\n/static/9983387778f1c70c0ce32374522d12c6/d7b72/post-default-bg.jpg 3000w,\n/static/9983387778f1c70c0ce32374522d12c6/439d2/post-default-bg.jpg 4288w","sizes":"(max-width: 3000px) 100vw, 3000px"}}}}}},"pageContext":{"slug":"/JS中的隐式转换/","previous":{"fields":{"slug":"/加法操作符/"},"frontmatter":{"title":"加法操作符"}},"next":{"fields":{"slug":"/IEEE-754标准与JS中的number类型/"},"frontmatter":{"title":"IEEE-754标准与JS中的number类型"}}}}