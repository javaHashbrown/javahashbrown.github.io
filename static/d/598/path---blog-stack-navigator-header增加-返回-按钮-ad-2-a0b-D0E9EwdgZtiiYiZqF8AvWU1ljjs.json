{"data":{"markdownRemark":{"id":"c69108d6-77b9-5b76-9f07-1cda1d687261","excerpt":"StackNavigator 自带了 navigationOptions 属性，但必须以静态对象申明 实现有 3 个要点： navigationOptions 对象里，创建{param}常量，然后 headerLeft 或者 headerRight…","html":"<p>StackNavigator 自带了 navigationOptions 属性，但必须以静态对象申明</p>\n<p>实现有 3 个要点：</p>\n<ol>\n<li>navigationOptions 对象里，创建{param}常量，然后 headerLeft 或者 headerRight 里配置好闭包函数<br>\n这样做是因为 navigation 是类的实例成员，无法通过类成员访问，所以需要用闭包绕开这一限制</li>\n<li>在 DidMount 事件中配置 params 的闭包函数对象</li>\n<li>页面跳转的执行函数</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">static navigationOptions = ({navigation}) =&gt; ({\n      const {params} = navigation.state;\n      title: &#39;PlayGround&#39;,\n      headerRight: &lt;View /&gt;,//之前提到过，占位的用的空view\n      headerLeft:\n        &lt;Button\n          //用闭包传递navigation\n          onPress={\n            params.handleNavigation &amp;&amp; params.handleNavigation()}\n        /&gt;,\n      headerStyle: {\n        backgroundColor: &#39;white&#39;,\n      },\n      headerTitleStyle: {\n        textAlign: &quot;center&quot;,\n        alignSelf: &quot;center&quot;,\n        fontSize: 16,\n      }\n  });\n  //页面跳转执行函数\n  toOtherScreen(){\n    this.props.navigation.navigate(&#39;pageDest&#39;);\n  }\n\n  componentDidMount(){\n    this.navigation.setParams(\n      handleNavigation: ()=&gt;{this.toOtherScreen()}\n    )\n  }</code></pre></div>","tableOfContents":"","frontmatter":{"date":"September 26, 2017","title":"StackNavigator Header增加“返回”按钮","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABwkC0D//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAERACAhMUH/2gAIAQEAAT8hQT3McFf/2gAMAwEAAgADAAAAEDDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgEFAQAAAAAAAAAAAAAAAREAECExUWFx/9oACAEBAAE/EFAwDTvCXwelxjkZSr//2Q==","aspectRatio":1.5056179775280898,"src":"/static/9983387778f1c70c0ce32374522d12c6/d7b72/post-default-bg.jpg","srcSet":"/static/9983387778f1c70c0ce32374522d12c6/2347c/post-default-bg.jpg 750w,\n/static/9983387778f1c70c0ce32374522d12c6/5a448/post-default-bg.jpg 1500w,\n/static/9983387778f1c70c0ce32374522d12c6/d7b72/post-default-bg.jpg 3000w,\n/static/9983387778f1c70c0ce32374522d12c6/439d2/post-default-bg.jpg 4288w","sizes":"(max-width: 3000px) 100vw, 3000px"}}}}}},"pageContext":{"slug":"/Blog/StackNavigator Header增加“返回”按钮/","previous":{"fields":{"slug":"/Blog/header title在Android下不居中问题的解决技巧/"},"frontmatter":{"title":"header title在Android下不居中问题的解决技巧"}},"next":{"fields":{"slug":"/Blog/react-native-init以指定版本创建project/"},"frontmatter":{"title":"react-native-init以指定版本创建project"}}}}